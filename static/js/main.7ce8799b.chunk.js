(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,i){},153:function(e,t,i){},175:function(e,t,i){"use strict";i.r(t);i(93);var s=i(0),a=i.n(s),n=i(90),r=i.n(n),l=(i(152),i(34)),o=i(2),h=i(1),c=i(10),d=i(8),u=i(3),p=i(9),y={187:"=",186:";",189:"-"},x=function(){function e(){Object(o.a)(this,e),this.pressedKeys={},this.pressedKeys.red1={right:0,left:0},this.pressedKeys.red2={right:0,left:0},this.pressedKeys.red3={right:0,left:0},this.pressedKeys.redpower=!1,this.pressedKeys.blue1={right:0,left:0},this.pressedKeys.blue2={right:0,left:0},this.pressedKeys.blue3={right:0,left:0},this.pressedKeys.bluepower=!1}return Object(h.a)(e,[{key:"bindKeys",value:function(){window.addEventListener("keyup",this.handleKeys.bind(this,!1)),window.addEventListener("keydown",this.handleKeys.bind(this,!0))}},{key:"unbindKeys",value:function(){window.removeEventListener("keyup",this.handleKeys),window.removeEventListener("keydown",this.handleKeys)}}]),Object(h.a)(e,[{key:"handleKeys",value:function(e,t){var i=this.pressedKeys;switch("Unidentified"==t.key?y[t.keyCode]:t.key){case"1":i.red1.left=e;break;case"2":i.red1.right=e;break;case"s":case"S":i.red2.left=e;break;case"d":case"D":i.red2.right=e;break;case"v":case"V":i.red3.left=e;break;case"b":case"B":i.red3.right=e;break;case"n":case"N":i.blue3.left=e;break;case"m":case"M":i.blue3.right=e;break;case"l":case"L":i.blue2.left=e;break;case";":i.blue2.right=e;break;case"-":i.blue1.left=e;break;case"=":i.blue1.right=e;break;case"3":i.redpower=e;break;case"0":i.bluepower=e}this.pressedKeys=i}}]),e}(),b=(i(153),i(35));function g(e,t,i,s){return Math.sqrt(Math.pow(e-i,2)+Math.pow(t-s,2))}function m(e,t){var i=e.x,s=e.y;return{x:Math.cos(t)*i-Math.sin(t)*s,y:Math.sin(t)*i+Math.cos(t)*s}}function f(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i=t.x*e.x+t.y*e.y,s=e;return s.x-=2*i*t.x,s.y-=2*i*t.y,s}function w(e,t){var i=e.x,s=e.y,a=t.x,n=t.y;return Math.atan(i*n-s*a,i*a+s*n)}var v=i(14),A=i.n(v);function E(e,t){return e+Math.random()*(t-e)}var k,S=function(){function e(t){Object(o.a)(this,e),this.x1=t.x1||0,this.y1=t.y1||0,this.x2=t.x2||0,this.y2=t.y2||0,this.hidden=t.hidden,this.color=t.color||"#000",this.depth=t.depth||10,this.width=t.width||50,this.position=50,this.paddleCenterX=(this.x1+this.x2)/2,this.paddleCenterY=(this.y1+this.y2)/2,this.slidinglength=g(this.x1,this.y1,this.x2,this.y2),this.y1===this.y2?this.tiltAngle=90*Math.PI/180:this.tiltAngle=-Math.atan((this.x2-this.x1)/(this.y2-this.y1)),this.minPosition=this.width/this.slidinglength*100/2,this.maxPosition=100*(1-this.width/this.slidinglength/2),this.powerup=0,this.powerupTimer=0}return Object(h.a)(e,[{key:"resetPowerup",value:function(){this.powerup=0,this.width=50,this.powerupTimer=0,this.minPosition=this.width/this.slidinglength*100/2,this.maxPosition=100*(1-this.width/this.slidinglength/2)}},{key:"bigPowerup",value:function(){this.width=100,this.powerupTimer=600,this.powerup=1,this.minPosition=this.width/this.slidinglength*100/2,this.maxPosition=100*(1-this.width/this.slidinglength/2)}},{key:"smallPowerup",value:function(){this.width=25,this.powerupTimer=600,this.powerup=2,this.minPosition=this.width/this.slidinglength*100/2,this.maxPosition=100*(1-this.width/this.slidinglength/2)}},{key:"boomerPowerup",value:function(){this.powerupTimer=400,this.powerup=3}},{key:"getReflection",value:function(e,t){for(var i,s=this.getHitbox(),a=0;a<4&&(i=[s[a].x,s[a].y,s[(a+1)%4].x,s[(a+1)%4].y],!A.a.circleLine.apply(A.a,[e.x,e.y,e.radius].concat(Object(l.a)(i))));a++);var n=m({x:i[2]-i[0],y:i[3]-i[1]},Math.PI/2),r={x:(i[2]+i[0])/2,y:(i[3]+i[1])/2},o=Object(b.a)({},r);o.x+=1e-4*n.x,o.y+=1e-4*n.y,g(this.paddleCenterX,this.paddleCenterY,r.x,r.y)>g(this.paddleCenterX,this.paddleCenterY,o.x,o.y)&&(n.x*=-1,n.y*=-1);var h=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2));n.x/=h,n.y/=h;var c=f({x:e.dx,y:e.dy},n,1);c.x+=.05*(e.x-this.paddleCenterX),c.y+=.05*(e.y-this.paddleCenterY);var d={x:this.paddleCenterX-this.previousCenterX,y:this.paddleCenterY-this.previousCenterY};if(0===d.x&&0===d.y)return c;if(c=m(c,.2*w(c,d)),t){var u=w(d,{x:e.dx,y:e.dy});e.dr+=u/20+E(-.1,.1)}return c}},{key:"render",value:function(e,t){if(!this.hidden){var i=e.context;this.powerupTimer>0&&this.powerupTimer--,this.powerupTimer<=0&&0!==this.powerup&&this.resetPowerup(),t.right&&this.position++,t.left&&this.position--,this.position>this.maxPosition&&(this.position=this.maxPosition),this.position<this.minPosition&&(this.position=this.minPosition),this.position=Math.round(this.position),this.previousCenterX=this.paddleCenterX,this.previousCenterY=this.paddleCenterY,this.paddleCenterX=this.x1*(1-this.position/100)+this.x2*this.position/100,this.paddleCenterY=this.y1*(1-this.position/100)+this.y2*this.position/100,i.save(),i.translate(.5,.5),i.strokeStyle="#000000",i.fillStyle="#888888",3===this.powerup&&(i.fillStyle="#fe0"),i.translate(this.paddleCenterX,this.paddleCenterY),i.rotate(this.tiltAngle),i.fillRect(-this.depth/2,-this.width/2,this.depth,this.width),i.restore()}}},{key:"getHitbox",value:function(){var e=this,t=this.width/2,i=this.depth/2;return[{x:i,y:t},{x:i,y:-t},{x:-i,y:-t},{x:-i,y:t}].map(function(t){var i=m(t,e.tiltAngle),s=i.x,a=i.y;return{x:s+e.paddleCenterX,y:a+e.paddleCenterY}})}},{key:"getInnerWall",value:function(){var e=m({x:this.depth/2,y:0},this.tiltAngle);return g(this.x1,this.y1,250,250)<g(this.x1+e.x,this.y1+e.y,250,250)&&(e.x*=-1,e.y*=-1),{x1:this.x1+e.x,y1:this.y1+e.y,x2:this.x2+e.x,y2:this.y2+e.y}}}]),e}(),C=function(){function e(t){Object(o.a)(this,e),this.x=t.x,this.y=t.y,this.dx=t.dx,this.dy=t.dy,this.radius=10,this.delete=!1,this.r=0,this.dr=0,this.color="#000",this.boomerMode=!1}return Object(h.a)(e,[{key:"render",value:function(e){if(this.x+=this.dx,this.y+=this.dy,this.r+=this.dr,this.boomerMode&&(this.x+=.5*this.dx,this.y+=.5*this.dy),Math.sqrt(Math.pow(this.dx,2)+Math.pow(this.dy,2))<3&&(this.dx*=1.2,this.dy*=1.2),e.settings.curveball){var t=m({x:this.dx,y:this.dy},this.dr/10);this.dx=t.x,this.dy=t.y}var i=e.context;i.save(),i.translate(this.x+.5,this.y+.5),i.rotate(this.r),"red"===this.color?i.fillStyle="#800":"blue"===this.color?i.fillStyle="#008":i.fillStyle="#888",i.beginPath(),i.arc(0,0,this.radius,this.radius,0,2*Math.PI),i.fill(),i.closePath(),e.settings.curveball&&(i.strokeStyle="#fff",i.lineWidth=2,i.beginPath(),i.moveTo(-10,0),i.lineTo(10,0),i.stroke(),i.closePath()),i.restore()}}]),e}(),O=i(177),j={display:"inline-block",alignItems:"center",justifyContent:"center",boxShadow:"0px 0px 0px 10px red inset",textAlign:"center",padding:0,border:"0.1em solid black",width:20},P=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:j},this.props.content)}}]),t}(a.a.Component),I={position:"fixed",bottom:0,left:0},R={position:"absolute",left:10,bottom:50,width:300,minHeight:150,border:"2px solid blue",background:"\t#00FF00",zIndex:"1"},M={width:"100px",padding:"2px",border:"2px solid blue",margin:"2px",textAlign:"center",fontSize:15,borderRadius:"2",userSelect:"none",position:""},U={height:50,width:100,margin:"auto",padding:10,float:"center"},N={width:"50%",height:50,float:"left",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 0px 0px 10px red inset"},B={margin:0,height:20,float:"left",display:"flex",alignItems:"center",justifyContent:"center"},T={marginLeft:"50%",height:50,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 0px 0px 10px blue inset"},K={margin:10,height:20,display:"flex",alignItems:"center",justifyContent:"right",float:"center"},L=function(e){function t(){var e,i;Object(o.a)(this,t);for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(i=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={display:!1},i.handleOnClick=function(){i.setState(function(e){return{display:!e.display}})},i}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=a.a.createElement("div",{style:R},a.a.createElement("h2",{align:"centre"},"CONTROLS INFO"),a.a.createElement("div",{align:"left"},a.a.createElement("span",{style:{display:"inline-block",float:" centre",margin:10}},a.a.createElement("div",null,"RED 1"),a.a.createElement("span",{style:B},a.a.createElement(P,{content:"1"})),a.a.createElement("span",{style:K},a.a.createElement(P,{content:"2"}))),a.a.createElement("span",{style:{display:"inline-block",float:" centre",margin:10}},a.a.createElement("div",null,"RED 2"),a.a.createElement("span",{style:B},a.a.createElement(P,{content:"S"})),a.a.createElement("span",{style:K},a.a.createElement(P,{content:"D"}))),a.a.createElement("span",{style:{display:"inline-block",float:" centre",margin:10}},a.a.createElement("div",null,"RED 3"),a.a.createElement("span",{style:B},a.a.createElement(P,{content:"V"})),a.a.createElement("span",{style:K},a.a.createElement(P,{content:"B"}))),a.a.createElement("span",{style:{display:"inline-block",float:" centre",margin:10}},a.a.createElement("div",null,"BLUE 3"),a.a.createElement("span",{style:B},a.a.createElement(P,{content:"N"})),a.a.createElement("span",{style:K},a.a.createElement(P,{content:"M"}))),a.a.createElement("span",{style:{display:"inline-block",float:" centre",margin:10}},a.a.createElement("div",null,"BLUE 2"),a.a.createElement("span",{style:B},a.a.createElement(P,{content:"L"})),a.a.createElement("span",{style:K},a.a.createElement(P,{content:";"}))),a.a.createElement("span",{style:{display:"inline-block",float:" centre",margin:10}},a.a.createElement("div",null,"BLUE 1"),a.a.createElement("span",{style:B},a.a.createElement(P,{style:{boxShadow:"0px 0px 0px 10px red inset"},content:"-"})),a.a.createElement("span",{style:K},a.a.createElement(P,{content:"="})))));return a.a.createElement("div",null,a.a.createElement("div",{style:U},a.a.createElement("div",{id:"red",style:N},this.props.redScore),a.a.createElement("div",{id:"blue",style:T},this.props.blueScore)),a.a.createElement("div",{style:I},this.state.display?e:"",a.a.createElement("div",null,a.a.createElement(O.a,{style:M,variant:"primary",onClick:this.handleOnClick},"Instructions"))))}}]),t}(a.a.Component),F=function(){function e(t){Object(o.a)(this,e),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2}return Object(h.a)(e,[{key:"getReflection",value:function(e){var t=m({x:this.x2-this.x1,y:this.y2-this.y1},Math.PI/2),i={x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2},s=Object(b.a)({},i);s.x+=.001*t.x,s.y+=.001*t.y,g(e.x,e.y,i.x,i.y)<g(e.x,e.y,s.x,s.y)&&(t.x*=-1,t.y*=-1);var a=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2));return t.x/=a,t.y/=a,f({x:e.dx,y:e.dy},t,1)}},{key:"render",value:function(e){var t=e.context;t.save(),t.strokeStyle="#000",t.beginPath(),t.moveTo(this.x1,this.y1),t.lineTo(this.x2,this.y2),t.stroke(),t.restore()}}]),e}(),D=function(){function e(t){Object(o.a)(this,e),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2,this.color=t.color||"red",this.teamId=t.teamId||0}return Object(h.a)(e,[{key:"render",value:function(e){var t=e.context;t.save(),t.strokeStyle=this.color,t.beginPath(),t.moveTo(this.x1,this.y1),t.lineTo(this.x2,this.y2),t.stroke(),t.restore()}}]),e}(),Q=i(61),V=function(){function e(t){Object(o.a)(this,e),this.walls=t.walls,this.output={left:0,right:0},this.waitTimer=0,this.lookAhead=10,this.debug=t.debug,this.curve=t.curve}return Object(h.a)(e,[{key:"reset",value:function(){this.waitTimer=-1,this.output={left:0,right:0}}},{key:"calculateOutput",value:function(e,t){if(this.waitTimer>0&&!this.curve)this.waitTimer--;else{this.waitTimer=0;for(var i=t.getInnerWall(),s={x:e.x,y:e.y,dx:e.dx,dy:e.dy},a=this.lookAhead;a>0;){for(var n=!1,r={x:s.x+1e3*s.dx,y:s.y+1e3*s.dy},l={x:s.x,y:s.y},o=0;o<this.walls.length;o++){var h=this.walls[o],c=Object(Q.a)(h.x1,h.y1,h.x2,h.y2,r.x,r.y,l.x,l.y);if("intersecting"===c.type){s.x=c.point.x,s.y=c.point.y,s.x-=s.dx,s.y-=s.dy;var d=h.getReflection(s);s.x+=s.dx,s.y+=s.dy,s.dx=d.x,s.dy=d.y,s.x+=s.dx,s.y+=s.dy,0===this.waitTimer&&(this.waitTimer=Math.round(Math.abs(e.dx)>1e-4?(c.point.x-e.x)/e.dx:(c.point.y-e.y)/e.dy)+1),a--,n=!0;break}}if(!n){var u=Object(Q.a)(i.x1,i.y1,i.x2,i.y2,r.x,r.y,l.x,l.y);if("intersecting"===u.type){var p={x:t.paddleCenterX,y:t.paddleCenterY};if(0===this.waitTimer&&(this.waitTimer=Math.round(Math.abs(e.dx)>1e-4?(u.point.x-e.x)/e.dx:(u.point.y-e.y)/e.dy)+1),g(p.x,p.y,u.point.x,u.point.y)<8)return void(this.output={left:0,right:0});var y={x:p.x+(t.x2-t.x1)/100,y:p.y+(t.y2-t.y1)/100};g(y.x,y.y,u.point.x,u.point.y)<g(p.x,p.y,u.point.x,u.point.y)?this.output={left:0,right:1}:this.output={left:1,right:0};var x=Math.round(g(p.x,p.y,u.point.x,u.point.y)/g(p.x,p.y,y.x,y.y));return void(this.waitTimer=Math.min(this.waitTimer,x))}a--}}}}}]),e}(),Y={position:"fixed",bottom:0,right:0},J={background:"#AAAAFF",width:"90%",margin:"auto",marginTop:"2px"},H={position:"absolute",right:10,bottom:30,width:300,minHeight:150,border:"2px solid blue",background:"#8888ff",zIndex:"1"},G={width:"100px",padding:"2px",border:"2px solid blue",margin:"2px",textAlign:"center",borderRadius:"2",userSelect:"none",position:"fixed",bottom:0,right:0,fontSize:15},X=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={opened:!1},i.toggleDropdown=i.toggleDropdown.bind(Object(u.a)(i)),i.AICheckboxChange=i.AICheckboxChange.bind(Object(u.a)(i)),i.curveballChange=i.curveballChange.bind(Object(u.a)(i)),i.powerupsChange=i.powerupsChange.bind(Object(u.a)(i)),i}return Object(p.a)(t,e),Object(h.a)(t,[{key:"toggleDropdown",value:function(){this.setState(function(e){return{opened:!e.opened}})}},{key:"AICheckboxChange",value:function(e){var t=this.props.settings;t.AI[e.target.id]=!t.AI[e.target.id],this.props.changeHandler(t)}},{key:"curveballChange",value:function(e){var t=this.props.settings;t.curveball=e.target.checked,this.props.changeHandler(t)}},{key:"powerupsChange",value:function(e){var t=this.props.settings;t.powerups=e.target.checked,this.props.changeHandler(t)}},{key:"render",value:function(){for(var e=[],t=["Red 1","Red 2","Red 3","Blue 1","Blue 2","Blue 3"],i=0;i<6;i++){var s=a.a.createElement("div",{key:i,style:{width:45,display:"flex",flexDirection:"column"}},a.a.createElement("div",{style:{color:"R"===t[i][0]?"red":"blue"}},t[i]),a.a.createElement("input",{type:"checkbox",id:i.toString(),checked:this.props.settings.AI[i],onChange:this.AICheckboxChange}));e.push(s)}var n=a.a.createElement("input",{type:"checkbox",checked:this.props.settings.curveball,onChange:this.curveballChange}),r=a.a.createElement("input",{type:"checkbox",checked:this.props.settings.powerups,onChange:this.powerupsChange}),l=a.a.createElement("div",{style:H},a.a.createElement("div",{style:J},a.a.createElement("div",null,"Enable AI "),a.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},e),a.a.createElement("div",{style:{fontSize:"13px"}},"AI Settings are applied when you reset game"),a.a.createElement("div",null,"Curveball ",n),a.a.createElement("div",null,"Powerups ",r)));return a.a.createElement("div",{style:Y},this.state.opened?l:"",a.a.createElement("button",{style:G,onClick:this.toggleDropdown},"Settings ",this.state.opened?"\u2193":"\u2191"," "))}}]),t}(a.a.Component),W=function(){function e(t){Object(o.a)(this,e),this.x=t.x,this.y=t.y,this.lifetime=50,this.delete=!1,this.color=t.color}return Object(h.a)(e,[{key:"render",value:function(e){var t=e.context;t.fillStyle=this.color,t.beginPath(),t.arc(this.x,this.y,this.lifetime/20,0,2*Math.PI),t.fill(),t.closePath(),this.lifetime--,this.lifetime<=0&&(this.delete=!0)}}]),e}(),z=i(25),q=i.n(z),Z=i(59),_=i.n(Z),$=i(60),ee=i.n($),te=i(36),ie=i.n(te),se=0,ae=1,ne=2,re=3,le={height:40,width:80,margin:"auto",padding:0,float:"center"},oe={width:"50%",height:40,float:"left",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 0px 0px 5px #844 inset"},he={marginLeft:"50%",height:40,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 0px 0px 5px #448 inset"},ce=function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t;switch(this.props.red){case se:e=ie.a;break;case ae:e=q.a;break;case ne:e=_.a;break;case re:e=ee.a;break;default:e=ie.a}switch(this.props.blue){case se:t=ie.a;break;case ae:t=q.a;break;case ne:t=_.a;break;case re:t=ee.a;break;default:t={big:q.a}}return a.a.createElement("div",null,a.a.createElement("center",null,a.a.createElement("div",{style:{margin:"auto",float:"center"}},"Powerups")),a.a.createElement("div",{style:le},a.a.createElement("div",{style:oe}," ",a.a.createElement("img",{src:e,alt:""})),a.a.createElement("div",{style:he},a.a.createElement("img",{src:t,alt:""}))))}}]),t}(a.a.Component),de=function(){function e(t){Object(o.a)(this,e),this.x=t.x||E(200,300),this.y=t.y||E(200,300),this.delete=!1}return Object(h.a)(e,[{key:"render",value:function(e){var t=e.context;t.fillStyle="#0a0",t.fillRect(this.x-10,this.y-10,20,20)}}]),e}(),ue={backgroundColor:"\t#fff"},pe={PAUSED:0,RUNNING:1,GOAL_SCORED:2},ye={NONE:0,BIG:1,SMALL:2,BOOMER:3},xe=0,be=1,ge=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={input:new x,context:null,gameState:pe.RUNNING,redScore:0,blueScore:0,gameMode:1,settings:{AI:[!1,!1,!1,!1,!1,!1],curveball:!1,powerups:!0},redpower:ye.NONE,bluepower:ye.NONE},i.draw=i.draw.bind(Object(u.a)(i)),i.reset1v1=i.reset1v1.bind(Object(u.a)(i)),i.reset2v2=i.reset2v2.bind(Object(u.a)(i)),i.reset3v3=i.reset3v3.bind(Object(u.a)(i)),i.resetPositions=i.resetPositions.bind(Object(u.a)(i)),i.renderPaddle1s=i.renderPaddles.bind(Object(u.a)(i)),i.changeSettings=i.changeSettings.bind(Object(u.a)(i)),i.initBots=i.initBots.bind(Object(u.a)(i)),i.createParticle=i.createParticle.bind(Object(u.a)(i)),i}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.state.input.bindKeys();var e=this.refs.canvas.getContext("2d");this.powerupTimer=100022,this.setState({context:e}),this.reset1v1(),k=requestAnimationFrame(this.draw)}},{key:"bluePowerupHandler",value:function(e){var t=[];t=2===e?[0,1,2]:[3,4,5];for(var i=3;i>this.state.gameMode;i--)t.splice(-1,1);for(var s=t.length-1;s>=0;s--)0!==this.paddles[t[s]].powerup&&t.splice(s,1);if(this.setState({bluepower:0}),0!==t.length){var a=Math.floor(E(0,t.length-1e-6)),n=this.paddles[t[a]];switch(e){case 1:n.bigPowerup();break;case 2:n.smallPowerup();break;case 3:n.boomerPowerup()}}}},{key:"redPowerupHandler",value:function(e){var t=[];t=2===e?[3,4,5]:[0,1,2];for(var i=3;i>this.state.gameMode;i--)t.splice(-1,1);for(var s=t.length-1;s>=0;s--)0!==this.paddles[t[s]].powerup&&t.splice(s,1);if(this.setState({redpower:0}),0!==t.length){var a=Math.floor(E(0,t.length-1e-6)),n=this.paddles[t[a]];switch(e){case 1:n.bigPowerup();break;case 2:n.smallPowerup();break;case 3:n.boomerPowerup()}}}},{key:"initBots",value:function(){this.bots=[];var e=this.goals.map(function(e){return new F({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2})}).concat(this.walls);this.redpower=ye.NONE,this.bluepower=ye.NONE;for(var t=0;t<6;t++)if(this.state.settings.AI[t]){var i=Object(l.a)(e);i.splice(t,1),this.bots.push(new V({walls:i,curve:this.state.settings.curveball}))}else this.bots.push(null)}},{key:"reset1v1",value:function(){this.setState({redScore:0,blueScore:0,gameState:pe.RUNNING,gameMode:1}),this.particles=[],this.powerups=[],this.state.settings.powerups&&(this.powerupTimer=E(200,300)),this.walls=[new F({x1:0,y1:100,x2:500,y2:100}),new F({x1:0,y1:399,x2:500,y2:399})],this.goals=[new D({x1:0,y1:100,x2:0,y2:400,color:"red",teamId:xe}),new D({x1:-100,y1:-100,x2:-100,y2:-100}),new D({x1:-100,y1:-100,x2:-100,y2:-100}),new D({x1:499,y1:100,x2:499,y2:400,color:"blue",teamId:be}),new D({x1:-100,y1:-100,x2:-100,y2:-100}),new D({x1:-100,y1:-100,x2:-100,y2:-100})],this.paddles=[new S({x1:10,y1:100,x2:10,y2:400,color:"red"}),new S({x1:-100,y1:-100,x2:-100,y2:-100,hidden:!0}),new S({x1:-100,y1:-100,x2:-100,y2:-100,hidden:!0}),new S({x1:490,y1:400,x2:490,y2:100,color:"blue"}),new S({x1:-100,y1:-100,x2:-100,y2:-100,hidden:!0}),new S({x1:-100,y1:-100,x2:-100,y2:-100,hidden:!0})],this.ball=new C({x:250,y:250}),this.initBots(),this.resetPositions()}},{key:"reset2v2",value:function(){this.particles=[],this.setState({redScore:0,blueScore:0,gameState:pe.RUNNING,gameMode:2}),this.walls=[],this.goals=[new D({x1:0,y1:250,x2:250,y2:0,color:"red",teamId:xe}),new D({x1:250,y1:0,x2:500,y2:250,color:"red",teamId:xe}),new D({x1:-100,y1:-100,x2:-100,y2:-100}),new D({x1:250,y1:500,x2:500,y2:250,color:"blue",teamId:be}),new D({x1:0,y1:250,x2:250,y2:500,color:"blue",teamId:be}),new D({x1:-100,y1:-100,x2:-100,y2:-100})],this.paddles=[new S({x1:10,y1:250,x2:250,y2:10,color:"red"}),new S({x1:250,y1:10,x2:490,y2:250,color:"red"}),new S({x1:-100,y1:-100,x2:-100,y2:-100,hidden:!0}),new S({x1:250,y1:490,x2:490,y2:250,color:"blue"}),new S({x1:10,y1:250,x2:250,y2:490,color:"blue"}),new S({x1:-100,y1:-100,x2:-100,y2:-100,hidden:!0})],this.ball=new C({x:250,y:250}),this.initBots(),this.resetPositions()}},{key:"reset3v3",value:function(){this.particles=[],this.setState({redScore:0,blueScore:0,gameState:pe.RUNNING,gameMode:3}),this.walls=[],this.goals=[];for(var e=0;e<6;e++){var t=m({x:-250,y:0},e*Math.PI/3),i=m({x:-250,y:0},(e+1)*Math.PI/3),s=e<3?"red":"blue",a="red"===s?xe:be;this.goals.push(new D({x1:t.x+250,y1:t.y+250,x2:i.x+250,y2:i.y+250,color:s,teamId:a}))}this.paddles=[];for(var n=0;n<3;n++){var r=m({x:-240,y:0},n*Math.PI/3),l=m({x:-240,y:0},(n+1)*Math.PI/3);this.paddles.push(new S({x1:r.x+250,y1:r.y+250,x2:l.x+250,y2:l.y+250,color:"red"}))}for(var o=0;o<3;o++){var h=this.paddles[2-o],c=h.x1,d=h.y1,u=h.x2,p=h.y2;this.paddles.push(new S({x1:c,y1:500-d,x2:u,y2:500-p,color:"blue"}))}this.ball=new C({x:250,y:250}),this.initBots(),this.resetPositions()}},{key:"resetPositions",value:function(){this.powerups=[],this.particles=[],this.setState({redpower:0,bluepower:0});var e=m({x:3,y:0},1===this.state.gameMode?E(-Math.PI/4,Math.PI/4):E(0,2*Math.PI));1===this.state.gameMode&&Math.random()<.5&&(e.x*=-1,e.y*=-1),this.ball=new C({x:250,y:250,dx:e.x,dy:e.y}),this.paddles.forEach(function(e){e.position=50,e.resetPowerup()}),this.bots.forEach(function(e){e&&e.reset()})}},{key:"renderPaddles",value:function(){var e=this.state.input.pressedKeys,t=this.bots;this.paddles[0].render(this.state,t[0]?t[0].output:e.red1),this.paddles[1].render(this.state,t[1]?t[1].output:e.red2),this.paddles[2].render(this.state,t[2]?t[2].output:e.red3),this.paddles[3].render(this.state,t[3]?t[3].output:e.blue1),this.paddles[4].render(this.state,t[4]?t[4].output:e.blue2),this.paddles[5].render(this.state,t[5]?t[5].output:e.blue3)}},{key:"createParticle",value:function(e){this.particles.push(new W(e))}},{key:"draw",value:function(){var e=this,t=this.state.context;if(this.state.gameState===pe.PAUSED)return t.font="30px Courier New",t.fillText("PAUSED",200,250),void(k=requestAnimationFrame(this.draw));t.save(),t.fillStyle="#FFF",t.translate(.5,.5),t.fillRect(0,0,500,500),this.walls.forEach(function(t){t.render(e.state)}),this.goals.forEach(function(t){t.render(e.state)}),this.powerups.forEach(function(t){return t.render(e.state)});for(var i=this.particles.length-1;i>=0;i--)this.particles[i].delete?this.particles.splice(i,1):this.particles[i].render(this.state);this.paddles.forEach(function(t){var i=t.getHitbox(),s=[];if(i.forEach(function(e){s.push(e.x),s.push(e.y)}),A.a.circlePolygon(e.ball.x,e.ball.y,e.ball.radius,s)){var a=t.getReflection(e.ball,e.state.settings.curveball);e.ball.dx=a.x,e.ball.dy=a.y,e.ball.color=t.color,3===t.powerup?e.ball.boomerMode=!0:e.ball.boomerMode=!1}}),this.walls.forEach(function(t){if(A.a.circleLine(e.ball.x,e.ball.y,e.ball.radius,t.x1,t.y1,t.x2,t.y2)){var i=t.getReflection(e.ball);e.ball.dx=i.x,e.ball.dy=i.y}}),this.powerups.forEach(function(t,i){A.a.boxCircle(t.x-10,t.y-10,20,20,e.ball.x,e.ball.y,e.ball.radius)&&("red"===e.ball.color&&0===e.state.redpower?e.setState({redpower:Math.floor(E(1.0000001,3.99999999))}):"blue"===e.ball.color&&0===e.state.bluepower&&e.setState({bluepower:Math.floor(E(1.0000001,3.99999999))}),e.powerups.splice(i,1))}),this.goals.forEach(function(i){var s;A.a.circleLine(e.ball.x,e.ball.y,e.ball.radius,i.x1,i.y1,i.x2,i.y2)&&(i.teamId===xe?(e.setState(function(e){return{blueScore:e.blueScore+1}}),s="Blue team",t.fillStyle="blue"):(e.setState(function(e){return{redScore:e.redScore+1}}),s="Red team",t.fillStyle="red"),t.font="30px Courier New",t.fillText(s+" has scored!",80,250),cancelAnimationFrame(k),e.setState({gameState:pe.GOAL_SCORED}))}),this.bots.forEach(function(t,i){t&&t.calculateOutput(e.ball,e.paddles[i])}),this.renderPaddles(),this.state.input.pressedKeys.redpower&&0!==this.state.redpower&&this.redPowerupHandler(this.state.redpower),this.state.input.pressedKeys.bluepower&&0!==this.state.bluepower&&this.bluePowerupHandler(this.state.bluepower),this.ball.render(this.state),this.createParticle({x:this.ball.x,y:this.ball.y,color:this.ball.color}),this.state.settings.powerups&&(this.powerupTimer>0?this.powerupTimer--:(this.powerupTimer=E(200,300),this.powerups.length<3&&this.powerups.push(new de({})))),t.restore(),this.state.gameState===pe.RUNNING?k=requestAnimationFrame(this.draw):this.state.gameState===pe.GOAL_SCORED&&(cancelAnimationFrame(k),setTimeout(function(){k=requestAnimationFrame(e.draw),e.resetPositions(),e.setState({gameState:pe.RUNNING})},1500))}},{key:"componentWillUnmount",value:function(){this.state.input.unbindKeys()}},{key:"changeSettings",value:function(e){this.setState({settings:e})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:ue},a.a.createElement("div",null,a.a.createElement("h1",null,"Pong++"),a.a.createElement("canvas",{ref:"canvas",width:"501",height:"501"}),a.a.createElement(L,{redScore:this.state.redScore,blueScore:this.state.blueScore}),a.a.createElement(ce,{red:this.state.redpower,blue:this.state.bluepower}),a.a.createElement("center",null,a.a.createElement("button",{id:"1v1",onClick:this.reset1v1},"Reset 1v1"),a.a.createElement("button",{id:"2v2",onClick:this.reset2v2},"Reset 2v2"),a.a.createElement("button",{id:"3v3",onClick:this.reset3v3},"Reset 3v3"),a.a.createElement("button",{onClick:this.resetPositions},"Reset Rally"),a.a.createElement("button",{onClick:function(){e.setState(function(e){if(2!==e.gameState)return{gameState:1-e.gameState}})}},0===this.state.gameState?"Play":"Pause")),a.a.createElement(X,{settings:this.state.settings,changeHandler:this.changeSettings})))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},25:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACwSURBVEhL7ZZRDoMwDEPLrrLzwGHHeXaWUglUIccJVrZ+IPF+iKrUGCcfTLXWMobX8RzAIw0MlL7YkPdn3ovvsu5Fgx5aItddotFrekj5NZBA3ZWOHSmornusNl/PBJeOLYvqRNr2xZvgQZYvnTI4QNdp3QbcVceY4CbSkLU0Rroh0GZ7JNf2Zcq0iXRii+kV7tq2nm0qlht/GKP3la50IhYgcn1WV2rg+cUB7ihdygZqX0ptnwrQJgAAAABJRU5ErkJggg=="},36:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADiSURBVEhLpc5bEsIwDEPR7n/TYOrbIUps59HzwzSSPFytz2scClE5wokCxU2Mp6gvY9bJAt+sYKB+73U8RVUR+Y/hWZElKCmy9rQhVGQDYkV265dUFFmDQJE9TmY8KbJG8GSoq2nUiV8NowUMBmlgmJaoRqrMcCBBKTGJDWcGxLnzf00jVzW4kaOXSGPWM7QjccZOFe+hIGChyHau9690FdmDV0XWkCdaikyRKbLH/5tckUVoKLIbHyTKowI9ReaneVMeT9FWRbR617FR8bsPtrCs0d3HPkPrFFdG5O9wy1zXFz58LSiIsJAlAAAAAElFTkSuQmCC"},59:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACwSURBVEhL7ZNLEoMwDEM5SJfc/2Y9QxBIJaCh0zSOWfFGm/jz2OCppPGojUz1+zUjeg2CTqkH2ndhVSNqBjjaTmpEI12YytWIBv/EJMgYtRmY9eezEsKFRmyXQf1aHcz2xc/JWC8SCkG9Rpvoi1wb+WqbiIRC8FXN+k9si2FrVVsDYa8R22VQvzgZhDvt2Dpz46FrsAtTndQaCXC0VbWaYXah1CoPQmq9EnjURpq6lAXHmJpdMP4siwAAAABJRU5ErkJggg=="},60:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADeSURBVEhL1dbLDcJADATQhZZogCsVc6UBalosTbS/2OPJYQ+MkDCK/WJtEOJWay17cj/eN+Q/afWsn68vis/7gSKNtHVzLWPNk9NnS9QTOlIUndF8PtVDWtmL9/i0O+N+N4ju0MS9pK90uq+uT3TqIqLeadFFFN1/jMg4b2N4HZ/ju7aE9OIe1VxzvdNjX+Qikb7cKfnlO7stfGULO2viWvhVS0inkxbe49PujHsCRHdo4l7SVzrdV9cnOnURUe+06CKK7j9GJHIRftUS0umkhfd0euxTXIRMbfs7WcoPkOOBh2+xxBIAAAAASUVORK5CYII="},92:function(e,t,i){e.exports=i(175)}},[[92,1,2]]]);
//# sourceMappingURL=main.7ce8799b.chunk.js.map